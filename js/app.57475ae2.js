(function(e){function t(t){for(var a,s,r=t[0],l=t[1],c=t[2],u=0,p=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var l=n[r];0!==o[l]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},o={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/calendar/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1cfb":function(e,t,n){},"2c66":function(e,t,n){},"36e5":function(e,t,n){},"3ee8":function(e,t,n){},"4e1a":function(e,t,n){"use strict";n("36e5")},"56d7":function(e,t,n){"use strict";n.r(t);var a=n("2b0e"),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"productCalendar"}},[t("div",{staticClass:"container"},[t("div",{staticClass:"header"},[t("div",{staticClass:"titleInfo"},[t("span",[e._v("Calendar")]),e._l(e.typeOption,(function(n,a){return["calenderYear"===e.tabPosition?t("div",{key:a,staticClass:"graph"},[t("div",{staticStyle:{width:"20px",height:"20px"},style:"background: "+n.color}),t("div",{staticStyle:{margin:"5px"}},[e._v(e._s(n.value))])]):e._e()]}))],2),t("div",{staticClass:"btns"},[t("el-radio-group",{model:{value:e.tabPosition,callback:function(t){e.tabPosition=t},expression:"tabPosition"}},[t("el-radio-button",{attrs:{label:"calenderYear"}},[e._v("Year")]),t("el-radio-button",{attrs:{label:"calenderMonth"}},[e._v("Month")])],1)],1),t("div",{staticClass:"optsBox"},["calenderMonth"===e.tabPosition?t("el-date-picker",{attrs:{type:"month","value-format":"yyyy-M",placeholder:""},model:{value:e.month,callback:function(t){e.month=t},expression:"month"}}):e._e(),"calenderYear"===e.tabPosition?t("el-date-picker",{attrs:{type:"year","value-format":"yyyy",placeholder:""},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}}):e._e()],1)]),t("div",{staticClass:"main"},["calenderYear"===e.tabPosition?t("calendarListPage",{ref:"calender",attrs:{options:e.year}}):e._e(),"calenderMonth"===e.tabPosition?t("calendarMonthPage",{ref:"tablePage",attrs:{options:e.month}}):e._e()],1)])])])},i=[],s=function(){var e=this,t=e._self._c;return t("div",{ref:"calendar",attrs:{id:"calenderBox"}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.calendarLoading,expression:"calendarLoading"}],staticClass:"calenderContent",attrs:{"element-laoding-spinner":"el-icon-loading","element-loading-text":"loading"}},[e.showCalendar?t("calendar-list-page",{ref:"calendar-list",attrs:{options:e.calendarOption}}):e._e()],1)])},r=[],l=n("5a0c"),c=n.n(l),d=function(){var e=this,t=e._self._c;return t("div",{ref:"calendar",attrs:{id:"calendar_list"}},[void 0,e._l(e.monthList,(function(n){return[t("div",{key:n.en,staticClass:"calendar_mon"},[t("div",{staticClass:"monTitle"},[e._v(e._s(n.en))]),t("div",{staticClass:"monContent"},[e._l(e.weekList,(function(n){return[t("div",{key:n.en,staticClass:"cItem weeks"},[e._v(e._s(n.enShort))])]})),e._l(e.data[n.en].pre,(function(n,a){return[t("div",{key:"pre"+a,staticClass:"cItem day"},[t("span",{staticClass:"cell"},[e._v(e._s(n))])])]})),e._l(e.data[n.en].main,(function(a,o){return[e.options.holidays[n.num]&&e.options.holidays[n.num][a]?t("el-popover",{key:o,ref:"popover",refInFor:!0,attrs:{placement:"bottom",width:"400",trigger:"click"}},[e.options.holidays[n.num]&&e.options.holidays[n.num][a]?t("div",{staticClass:"detailCard"},[t("el-form",{ref:"form",refInFor:!0},[t("el-form-item",{attrs:{label:"Date",prop:"date"}},[t("el-date-picker",{attrs:{type:"daterange","range-separator":"-",disabled:""},model:{value:e.formData.dateRange,callback:function(t){e.$set(e.formData,"dateRange",t)},expression:"formData.dateRange"}})],1),t("el-form-item",{attrs:{label:"Type",prop:"type",rules:[{required:!0,message:"please select",trigger:"blur"}]}},[t("el-radio-group",{model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},[t("el-radio",{attrs:{label:2}},[e._v("rest")]),t("el-radio",{attrs:{label:1}},[e._v("work")])],1)],1),t("el-form-item",{attrs:{label:"Description",prop:"description"}},[t("el-input",{attrs:{placeholder:"Description",maxlength:"50"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),t("el-form-item",[t("el-button",{on:{click:function(t){return e.editSubmit(e.formData)}}},[e._v("Submit")])],1)],1)],1):e._e(),t("div",{key:"main"+o,staticClass:"cItem day main",class:{workTime:e.options.holidays[n.num]&&e.options.holidays[n.num][a]&&"1"==e.options.holidays[n.num][a].type,holiday:e.options.holidays[n.num]&&e.options.holidays[n.num][a]&&"2"==e.options.holidays[n.num][a].type,today:e.todayDate.year===e.options.year&&e.todayDate.mon==n.num&&e.todayDate.day==a},attrs:{slot:"reference"},on:{click:function(t){return e.changeValue(e.options.holidays[n.num][a])}},slot:"reference"},[t("span",{staticClass:"cell"},[e._v(e._s(a))])])]):t("div",{key:"main"+o,staticClass:"cItem day main",class:{workTime:e.options.holidays[n.num]&&e.options.holidays[n.num][a]&&"1"==e.options.holidays[n.num][a].type,holiday:e.options.holidays[n.num]&&e.options.holidays[n.num][a]&&"2"==e.options.holidays[n.num][a].type,today:e.todayDate.year===e.options.year&&e.todayDate.mon==n.num&&e.todayDate.day==a}},[t("span",{staticClass:"cell"},[e._v(e._s(a))])])]})),e._l(e.data[n.en].next,(function(n,a){return[t("div",{key:"next"+a,staticClass:"cItem day"},[t("span",{staticClass:"cell"},[e._v(e._s(n))])])]}))],2)])]}))],2)},u=[];n("14d9");const p={monthList:[{cn:"d",en:"January",num:"1"},{cn:"d",en:"February",num:"2"},{cn:"d",en:"March",num:"3"},{cn:"d",en:"April",num:"4"},{cn:"",en:"May",num:"5"},{cn:"",en:"June",num:"6"},{cn:"",en:"July",num:"7"},{cn:"",en:"August",num:"8"},{cn:"",en:"September",num:"9"},{cn:"",en:"October",num:"10"},{cn:"",en:"November",num:"11"},{cn:"",en:"December",num:"12"}],weekList:[{cn:"",en:"Monday",enShort:"Mon"},{cn:"",en:"Tuesday",enShort:"Tue"},{cn:"",en:"Wednesday",enShort:"Wed"},{cn:"",en:"Thursday",enShort:"Thu"},{cn:"",en:"Friday",enShort:"Fri"},{cn:"",en:"Saturday",enShort:"Sat"},{cn:"",en:"Sunday",enShort:"Sun"}]},m={run:function(e){for(var t=m.getDate(e||(new Date).getFullYear()),n={},a=0;a<t.length;a++){var o=void 0===t[a+1]?13:t[a+1].split("-")[1],i=t[a].split("_"),s=i[0].split("-");const e=p.monthList[s[1]-1].en;if(void 0===n[e]){const t=0==i[1]?7:i[1];n[e]={name:p.monthList[s[1]-1].cn,pre:[],main:[],next:[]};for(let a=1;a<t;a++)n[e].pre.push("");n[e].main.push(s[2])}else if(n[e].main.push(s[2]),o!==s[1]){let t=parseInt(i[1]);const a=n[e].main.length+n[e].pre.length+7-t;a<42&&(t-=7);for(let o=t;o<7;o++)n[e].next.push("")}}return n},getDate:function(e){for(var t=[],n=1;n<=12;n++)for(var a=1;a<=new Date(e,n,0).getDate();a++)t.push(e+"-"+n+"-"+a+"_"+new Date([e,n,a].join("-")).getDay());return t}};var h=m,y={components:{},props:{options:{type:Object,default:function(){return{year:"",holidays:{}}}}},data(){return{monthList:p.monthList,weekList:p.weekList,checkValue:[],weekendNum:[6,7,13,14,20,21,27,28,34,35,41,42],todayDate:{year:"",mon:"",day:""},data:[],formData:{schedulingtypeId:[],type:1,dateRange:[],description:"",id:"",startTime:"",endTime:""},classList:[]}},watch:{"options.year"(e,t){this.queryCalendarData()}},created(){this.options.year=(new Date).getFullYear()+"",this.init()},methods:{init(){this.queryCalendarData(),this.getToday()},queryCalendarData(){this.data=h.run(this.options.year)},getToday(){const e=new Date;this.todayDate.year=e.getFullYear(),this.todayDate.mon=e.getMonth()+1,this.todayDate.day=e.getDate()},changeValue(e){console.log(e)}}},f=y,g=(n("a5c5"),n("2877")),v=Object(g["a"])(f,d,u,!1,null,"51794313",null),b=v.exports,D={components:{calendarListPage:b},props:{options:{type:String,default:""}},data(){return{calendarOption:{year:"",holidays:{}},calendarLoading:!1,showCalendar:!1}},watch:{options(e,t){this.getHoliday()}},created(){this.getHoliday(),console.log("lkl")},methods:{async getHoliday(){this.calendarLoading=!0,this.calendarOption.year=this.options,this.calendarOption.holidays=[];this.calendarOption.year;const e={},t={content:[{id:"1234",type:"1",startTime:"2022-01-01 00:00:00",endTime:"2022-01-01 23:59:59",description:"",scheName:"白班, 晚班",schedulingtyeId:"12,23"},{id:"1235",type:"1",startTime:"2022-01-02 00:00:00",endTime:"2022-01-03 23:59:59",description:"",scheName:"白班, 晚班",schedulingtyeId:"12,23"},{id:"1236",type:"1",startTime:"2022-03-02 00:00:00",endTime:"2022-03-03 23:59:59",description:"",scheName:"白班, 晚班",schedulingtyeId:"12,23"},{id:"1237",type:"2",startTime:"2022-01-25 00:00:00",endTime:"2022-01-29 23:59:59",description:"",scheName:"白班, 晚班",schedulingtyeId:"12,23"}]};t.content.map(t=>{t.startTimeCn=c()(t.startTime).valueOf(),console.log(t.startTimeCn),t.endTimeCn=c()(t.endTime).valueOf();for(let n=t.startTimeCn;n<=t.endTimeCn;n+=864e5){const a=new Date(n),o={mon:a.getMonth()+1,day:a.getDate()};void 0===e[o.mon]?(e[o.mon]={},e[o.mon][o.day]={id:t.id,description:t.description,dateRange:[t.startTime,t.endTime],schedulingtyeId:t.schedulingtyeId?t.schedulingtyeId.split(","):[],type:parseInt(t.type),date:o.mon+"."+o.day}):e[o.mon][o.day]={id:t.id,description:t.description,dateRange:[t.startTime,t.endTime],schedulingtyeId:t.schedulingtyeId?t.schedulingtyeId.split(","):[],type:parseInt(t.type),date:o.mon+"."+o.day}}}),this.showCalendar=!0,this.calendarOption.holidays=e,this.calendarLoading=!1}}},_=D,C=(n("8d42"),Object(g["a"])(_,s,r,!1,null,"076d04b2",null)),k=C.exports,w=function(){var e=this,t=e._self._c;return t("div",{ref:"calendar",attrs:{id:"calendar_list"}},[t("div",{staticClass:"calendar_mon"},[t("div",{staticClass:"monContent"},[e._l(e.weekList,(function(n){return[t("div",{key:n.en,staticClass:"cItem weeks"},[e._v(e._s(n.enShort))])]})),e._l(e.data[e.monItem.en].pre,(function(n,a){return[t("div",{key:"pre"+a,staticClass:"cItem day",staticStyle:{background:"#fff"}},[t("span",{staticClass:"cell"},[e._v(e._s(n))])])]})),e._l(e.data[e.monItem.en].main,(function(n,a){return[t("div",{key:"main"+a,staticClass:"cItem day main"},[t("Cell",{attrs:{config:[e.monItem.num,n,e.fakeData]}})],1)]})),e._l(e.data[e.monItem.en].next,(function(n,a){return[t("div",{key:"next"+a,staticClass:"cItem day",staticStyle:{background:"#fff"}},[t("span",{staticClass:"cell"},[e._v(e._s(n))])])]}))],2)])])},T=[];const S={monthList:[{cn:"d",en:"Jan",num:"1"},{cn:"d",en:"Feb",num:"2"},{cn:"d",en:"Mar",num:"3"},{cn:"d",en:"Apr",num:"4"},{cn:"",en:"May",num:"5"},{cn:"",en:"Jun",num:"6"},{cn:"",en:"Jul",num:"7"},{cn:"",en:"Aug",num:"8"},{cn:"",en:"Sep",num:"9"},{cn:"",en:"Oct",num:"10"},{cn:"",en:"Nov",num:"11"},{cn:"",en:"Dec",num:"12"}],weekList:[{cn:"",en:"Monday",enShort:"Mon"},{cn:"",en:"Tuesday",enShort:"Tue"},{cn:"",en:"Wednesday",enShort:"Wed"},{cn:"",en:"Thursday",enShort:"Thu"},{cn:"",en:"Friday",enShort:"Fri"},{cn:"",en:"Saturday",enShort:"Sat"},{cn:"",en:"Sunday",enShort:"Sun"}]},I={run:function(e){for(var t=I.getDate(e||(new Date).getFullYear()),n={},a=0;a<t.length;a++){var o=void 0===t[a+1]?13:t[a+1].split("-")[1];console.log(t);var i=t[a].split("_"),s=i[0].split("-");console.log(i);const e=S.monthList[s[1]-1].en;if(void 0===n[e]){const o=0==i[1]?7:i[1];console.log(o),n[e]={name:S.monthList[s[1]-1].en,pre:[],main:[],next:[]};const r=S.monthList[s[1]-1].num-1;console.log(r);let l=[];if(r>0)for(let i=1;i<o;i++){const s=t[a-o+i].split("_");l=s[0].split("-"),n[e].pre.push(l[2]),console.log(n[e].pre)}else for(let t=o-1;0<t;t--)n[e].pre.push(32-t);n[e].main.push(s[2])}else if(n[e].main.push(s[2]),o!==s[1]){let t=parseInt(i[1]);const a=n[e].main.length+n[e].pre.length+7-t;a<42&&(t-=7);const o=1-t;for(let i=t;i<7;i++)n[e].next.push(i+o)}}return n},getDate:function(e){for(var t=[],n=1;n<=12;n++)for(var a=1;a<=new Date(e,n,0).getDate();a++)t.push(e+"-"+n+"-"+a+"_"+new Date([e,n,a].join("-")).getDay());return t}};var x=I,L={functional:!0,props:["config"],render:(e,t)=>{const[n,a,o]=t.props.config,i=[],s=e("div",{class:"date",domProps:{innerHTML:a}});if(i.push(s),o.hasOwnProperty(n)&&o[n].hasOwnProperty(a)){const t=o[n][a],s=t.length,r=[{bg:"#F1D57D",border:"#BFA963",font:"#000"},{bg:"#B8E986",border:"#799958",font:"#000"},{bg:"#3A84FF",border:"#0054DF",font:"#FFF"},{bg:"#37C1CF",border:"#29919C",font:"#FFF"}];t.forEach((t,n)=>{const a=e("span",{domProps:{innerHTML:t.beginTime.substring(11,16)+"~"+t.endTime.substring(11,16)+" | "+t.shiftName}}),o=e("div",{class:"cellContent",style:{height:`calc((100% - 24px) / ${s})`,background:r[n].bg,borderColor:r[n].border,color:r[n].font}},[a]);i.push(o)})}return e("div",{class:"cell",style:{width:"100%",height:"100%"}},i)}},O={components:{Cell:L},props:{options:{type:String,default:""}},data(){return{monthList:S.monthList,weekList:S.weekList,monItem:{},weekendNum:[6,7,13,14,20,21,27,28,34,35,41,42],data:[],fakeData:{},month:"",selectData:[]}},watch:{options(e,t){this.init()}},created(){this.init()},methods:{init(){this.selectData=this.options.split("-");let e="";console.log(this.selectData),this.monthList.map(t=>{t.num===this.selectData[1]&&(e=t.en)}),this.monItem={en:e,num:this.selectData[1]},this.queryCalendarData()},async queryCalendarData(){console.log(this.monItem),this.data=x.run(this.selectData[0]);this.selectData[0],this.addZero(this.selectData[1]);const e={content:{1:{1:[{id:"12",beginTime:"2023-01-01 23:30:00",beginTimeDate:"2023-01-01",calendarId:"3434",endTime:"2023-01-01 23:45:00",shiftName:"night"}]}}};this.fakeData=e.content},addZero(e){return e<10?"0"+e:e}}},F=O,P=(n("9c13"),Object(g["a"])(F,w,T,!1,null,"774a9750",null)),M=P.exports,j={components:{calendarListPage:k,calendarMonthPage:M},data(){return{tabPosition:"calenderYear",typeOption:[{value:"Work",color:"#3A84FF"},{value:"Rest",color:"#B7C7E0"}],month:(new Date).getFullYear()+"-"+((new Date).getMonth()+1),year:(new Date).getFullYear()+""}}},Y=j,N=(n("4e1a"),Object(g["a"])(Y,o,i,!1,null,"ec273a00",null)),J=N.exports,A=n("5c96"),R=n.n(A);n("5822"),n("2c66");a["default"].config.productionTip=!1,a["default"].use(R.a,{size:"small"}),new a["default"]({render:e=>e(J)}).$mount("#app")},5822:function(e,t,n){},"8d42":function(e,t,n){"use strict";n("3ee8")},"9c13":function(e,t,n){"use strict";n("1cfb")},a5c5:function(e,t,n){"use strict";n("c579")},c579:function(e,t,n){}});
//# sourceMappingURL=app.57475ae2.js.map